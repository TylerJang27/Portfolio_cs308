<?xml version="1.0" encoding="UTF-8" ?>
<data type="rule">
    <settings>
        <players>1</players>
        <layout>data/rpsls/rpsls_layout.xml</layout>
    </settings>
    <deck>
        <deck_name>rpsls</deck_name>
        <shuffle>n</shuffle>
        <card>
            <name>rock</name>
            <value>0</value>
            <color>black</color>
            <suit>c</suit>
        </card>
        <card>
            <name>rock</name>
            <value>0</value>
            <color>black</color>
            <suit>c</suit>
        </card>
        <card>
            <name>rock</name>
            <value>0</value>
            <color>black</color>
            <suit>c</suit>
        </card>
        <card>
            <name>rock</name>
            <value>0</value>
            <color>black</color>
            <suit>c</suit>
        </card>
        <card>
            <name>rock</name>
            <value>0</value>
            <color>black</color>
            <suit>c</suit>
        </card>
        <card>
            <name>paper</name>
            <value>4</value>
            <color>black</color>
            <suit>c</suit>
        </card>
        <card>
            <name>paper</name>
            <value>4</value>
            <color>black</color>
            <suit>c</suit>
        </card>
        <card>
            <name>paper</name>
            <value>4</value>
            <color>black</color>
            <suit>c</suit>
        </card>
        <card>
            <name>paper</name>
            <value>4</value>
            <color>black</color>
            <suit>c</suit>
        </card>
        <card>
            <name>paper</name>
            <value>4</value>
            <color>black</color>
            <suit>c</suit>
        </card>
        <card>
            <name>scissors</name>
            <value>3</value>
            <color>black</color>
            <suit>c</suit>
        </card>
        <card>
            <name>scissors</name>
            <value>3</value>
            <color>black</color>
            <suit>c</suit>
        </card>
        <card>
            <name>scissors</name>
            <value>3</value>
            <color>black</color>
            <suit>c</suit>
        </card>
        <card>
            <name>scissors</name>
            <value>3</value>
            <color>black</color>
            <suit>c</suit>
        </card>
        <card>
            <name>scissors</name>
            <value>3</value>
            <color>black</color>
            <suit>c</suit>
        </card>
        <card>
            <name>lizard</name>
            <value>1</value>
            <color>black</color>
            <suit>c</suit>
        </card>
        <card>
            <name>lizard</name>
            <value>1</value>
            <color>black</color>
            <suit>c</suit>
        </card>
        <card>
            <name>lizard</name>
            <value>1</value>
            <color>black</color>
            <suit>c</suit>
        </card>
        <card>
            <name>lizard</name>
            <value>1</value>
            <color>black</color>
            <suit>c</suit>
        </card>
        <card>
            <name>lizard</name>
            <value>1</value>
            <color>black</color>
            <suit>c</suit>
        </card>
        <card>
            <name>spock</name>
            <value>2</value>
            <color>black</color>
            <suit>c</suit>
        </card>
        <card>
            <name>spock</name>
            <value>2</value>
            <color>black</color>
            <suit>c</suit>
        </card>
        <card>
            <name>spock</name>
            <value>2</value>
            <color>black</color>
            <suit>c</suit>
        </card>
        <card>
            <name>spock</name>
            <value>2</value>
            <color>black</color>
            <suit>c</suit>
        </card>
        <card>
            <name>spock</name>
            <value>2</value>
            <color>black</color>
            <suit>c</suit>
        </card>

        <card>
            <name>D0</name>
            <value>10</value>
            <color>red</color>
            <suit>d</suit>
            <fixed>y</fixed>
        </card>
        <card>
            <name>D0</name>
            <value>10</value>
            <color>red</color>
            <suit>d</suit>
            <fixed>y</fixed>
        </card>
        <card>
            <name>D0</name>
            <value>10</value>
            <color>red</color>
            <suit>d</suit>
            <fixed>y</fixed>
        </card>
        <card>
            <name>D0</name>
            <value>10</value>
            <color>red</color>
            <suit>d</suit>
            <fixed>y</fixed>
        </card>
        <card>
            <name>D0</name>
            <value>10</value>
            <color>red</color>
            <suit>d</suit>
            <fixed>y</fixed>
        </card>
        <card>
            <name>D0</name>
            <value>10</value>
            <color>red</color>
            <suit>d</suit>
            <fixed>y</fixed>
        </card>
    </deck>
    <cell_groups>
        <group category="player">
            <cell name="playerl">
                <fan>none</fan>
                <rotation>0</rotation>
                <init_cards>
                    <card>D0,U</card>
                    <card>rock,U</card>
                </init_cards>
            </cell>
            <cell name="playerlc">
                <fan>none</fan>
                <rotation>0</rotation>
                <init_cards>
                    <card>D0,U</card>
                    <card>paper,U</card>
                </init_cards>
            </cell>
            <cell name="playerc">
                <fan>none</fan>
                <rotation>0</rotation>
                <init_cards>
                    <card>D0,U</card>
                    <card>scissors,U</card>
                </init_cards>
            </cell>
            <cell name="playerrc">
                <fan>none</fan>
                <rotation>0</rotation>
                <init_cards>
                    <card>D0,U</card>
                    <card>lizard,U</card>
                </init_cards>
            </cell>
            <cell name="playerr">
                <fan>none</fan>
                <rotation>0</rotation>
                <init_cards>
                    <card>D0,U</card>
                    <card>spock,U</card>
                </init_cards>
            </cell>
        </group>
        <group category="cpu">
            <cell name="cpu">
                <fan>none</fan>
                <rotation>0</rotation>
                <init_cards>
                    <card>rock,D</card>
                    <card>paper,D</card>
                    <card>scissors,D</card>
                    <card>lizard,D</card>
                    <card>spock,D</card>
                    <card>rock,D</card>
                    <card>paper,D</card>
                    <card>scissors,D</card>
                    <card>lizard,D</card>
                    <card>spock,D</card>
                    <card>rock,D</card>
                    <card>paper,D</card>
                    <card>scissors,D</card>
                    <card>lizard,D</card>
                    <card>spock,D</card>
                    <card>rock,D</card>
                    <card>paper,D</card>
                    <card>scissors,D</card>
                    <card>lizard,D</card>
                    <card>spock,D</card>
                </init_cards>
            </cell>
        </group>
        <group category="center">
            <cell name="center">
                <fan>none</fan>
                <rotation>0</rotation>
                <init_cards>
                    <card>D0,U</card>
                </init_cards>
            </cell>
        </group>
    </cell_groups>
    <phases>
        <phase name="opponent">
            <phase_type>manual</phase_type>
            <valid_donors>
                <category>cpu</category>
            </valid_donors>
            <rules>
                <rule category="center">
                    <validation>
                        <receiver>
                            <name>center</name>
                            <num_cards>1</num_cards>
                        </receiver>
                        <mover>
                            <value>*</value>
                            <color>*</color>
                            <suit>*</suit>
                            <num_cards>*</num_cards>
                            <is_faceup>n</is_faceup>
                        </mover>
                    </validation>
                    <action>
                        <receiver_dest>
                            <destination>r</destination>
                            <num_cards>none</num_cards>
                            <shuffle>n</shuffle>
                            <rotation>0</rotation>
                            <offset>none</offset>
                        </receiver_dest>
                        <mover_dest>
                            <destination>r</destination>
                            <num_cards>r</num_cards>
                            <shuffle>n</shuffle>
                            <rotation>0</rotation>
                            <offset>none</offset>
                            <flip_up>n</flip_up>
                        </mover_dest>
                        <next_phase phase="player"></next_phase>
                    </action>
                </rule>
            </rules>
        </phase>
        <phase name="player">
            <phase_type>manual</phase_type>
            <valid_donors>
                <category>player</category>
            </valid_donors>
            <rules>
                <rule category="center">
                    <validation>
                        <receiver>
                            <num_cards>2</num_cards>
                        </receiver>
                        <mover>
                            <num_cards>2</num_cards>
                            <value>-1</value>
                            <is_faceup>y</is_faceup>
                        </mover>
                    </validation>
                    <action>
                        <receiver_dest>
                            <flip_up>*</flip_up>
                        </receiver_dest>
                        <mover_dest>
                            <destination>r</destination>
                            <num_cards>1</num_cards>
                            <offset>south</offset>
                            <flip_up>*</flip_up>
                        </mover_dest>
                        <next_phase phase="win">10.0</next_phase>
                    </action>
                </rule>
                <rule category="center">
                    <validation>
                        <receiver>
                            <num_cards>2</num_cards>
                        </receiver>
                        <mover>
                            <num_cards>2</num_cards>
                            <value>4</value>
                            <is_faceup>y</is_faceup>
                        </mover>
                    </validation>
                    <action>
                        <receiver_dest>
                            <flip_up>*</flip_up>
                        </receiver_dest>
                        <mover_dest>
                            <destination>r</destination>
                            <num_cards>1</num_cards>
                            <offset>south</offset>
                            <flip_up>*</flip_up>
                        </mover_dest>
                        <next_phase phase="win">10.0</next_phase>
                    </action>
                </rule>
                <rule category="center">
                    <validation>
                        <receiver>
                            <num_cards>2</num_cards>
                        </receiver>
                        <mover>
                            <num_cards>2</num_cards>
                            <value>2</value>
                            <is_faceup>y</is_faceup>
                        </mover>
                    </validation>
                    <action>
                        <receiver_dest>
                            <flip_up>*</flip_up>
                        </receiver_dest>
                        <mover_dest>
                            <destination>r</destination>
                            <num_cards>1</num_cards>
                            <offset>south</offset>
                            <flip_up>*</flip_up>
                        </mover_dest>
                        <next_phase phase="win">10.0</next_phase>
                    </action>
                </rule>
                <rule category="center">
                    <validation>
                        <receiver>
                            <num_cards>2</num_cards>
                        </receiver>
                        <mover>
                            <num_cards>2</num_cards>
                            <value>-3</value>
                            <is_faceup>y</is_faceup>
                        </mover>
                    </validation>
                    <action>
                        <receiver_dest>
                            <flip_up>*</flip_up>
                        </receiver_dest>
                        <mover_dest>
                            <destination>r</destination>
                            <num_cards>1</num_cards>
                            <offset>south</offset>
                            <flip_up>*</flip_up>
                        </mover_dest>
                        <next_phase phase="win">10.0</next_phase>
                    </action>
                </rule>


                <rule category="center">
                    <validation>
                        <receiver>
                            <num_cards>2</num_cards>
                        </receiver>
                        <mover>
                            <num_cards>2</num_cards>
                            <value>1</value>
                            <is_faceup>y</is_faceup>
                        </mover>
                    </validation>
                    <action>
                        <receiver_dest>
                            <flip_up>*</flip_up>
                        </receiver_dest>
                        <mover_dest>
                            <destination>r</destination>
                            <num_cards>1</num_cards>
                            <offset>south</offset>
                            <flip_up>*</flip_up>
                        </mover_dest>
                        <next_phase phase="loss">-10.0</next_phase>
                    </action>
                </rule>
                <rule category="center">
                    <validation>
                        <receiver>
                            <num_cards>2</num_cards>
                        </receiver>
                        <mover>
                            <num_cards>2</num_cards>
                            <value>-4</value>
                            <is_faceup>y</is_faceup>
                        </mover>
                    </validation>
                    <action>
                        <receiver_dest>
                            <flip_up>*</flip_up>
                        </receiver_dest>
                        <mover_dest>
                            <destination>r</destination>
                            <num_cards>1</num_cards>
                            <offset>south</offset>
                            <flip_up>*</flip_up>
                        </mover_dest>
                        <next_phase phase="loss">-10.0</next_phase>
                    </action>
                </rule>
                <rule category="center">
                    <validation>
                        <receiver>
                            <num_cards>2</num_cards>
                        </receiver>
                        <mover>
                            <num_cards>2</num_cards>
                            <value>-2</value>
                            <is_faceup>y</is_faceup>
                        </mover>
                    </validation>
                    <action>
                        <receiver_dest>
                            <flip_up>*</flip_up>
                        </receiver_dest>
                        <mover_dest>
                            <destination>r</destination>
                            <num_cards>1</num_cards>
                            <offset>south</offset>
                            <flip_up>*</flip_up>
                        </mover_dest>
                        <next_phase phase="loss">-10.0</next_phase>
                    </action>
                </rule>
                <rule category="center">
                    <validation>
                        <receiver>
                            <num_cards>2</num_cards>
                        </receiver>
                        <mover>
                            <num_cards>2</num_cards>
                            <value>3</value>
                            <is_faceup>y</is_faceup>
                        </mover>
                    </validation>
                    <action>
                        <receiver_dest>
                            <flip_up>*</flip_up>
                        </receiver_dest>
                        <mover_dest>
                            <destination>r</destination>
                            <num_cards>1</num_cards>
                            <offset>south</offset>
                            <flip_up>*</flip_up>
                        </mover_dest>
                        <next_phase phase="loss">-10.0</next_phase>
                    </action>
                </rule>

                <rule category="center">
                    <validation>
                        <receiver>
                            <num_cards>2</num_cards>
                        </receiver>
                        <mover>
                            <num_cards>2</num_cards>
                            <value>0</value>
                            <is_faceup>y</is_faceup>
                        </mover>
                    </validation>
                    <action>
                        <receiver_dest>
                            <flip_up>*</flip_up>
                        </receiver_dest>
                        <mover_dest>
                            <destination>r</destination>
                            <num_cards>1</num_cards>
                            <offset>south</offset>
                            <flip_up>*</flip_up>
                        </mover_dest>
                        <next_phase phase="reset1">0.0</next_phase>
                    </action>
                </rule>
            </rules>
        </phase>
        <phase name="win">
            <phase_type>auto</phase_type>
            <valid_donors><category></category></valid_donors>
            <rules>
                <rule category="">
                    <validation>
                    </validation>
                    <action>
                        <next_phase phase="reset1"/>
                    </action>
                </rule>
            </rules>
        </phase>
        <phase name="loss">
            <phase_type>auto</phase_type>
            <valid_donors><category></category></valid_donors>
            <rules>
                <rule category="">
                    <validation>
                    </validation>
                    <action>
                        <next_phase phase="reset1"/>
                    </action>
                </rule>
            </rules>
        </phase>
        <phase name="reset1">
            <phase_type>manual</phase_type>
            <valid_donors>
                <category>center</category>
            </valid_donors>
            <rules>
                <rule category="player">
                    <validation>
                        <receiver>
                            <num_cards>1</num_cards>
                        </receiver>
                        <mover>
                            <num_cards>1</num_cards>
                        </mover>
                    </validation>
                    <action>
                        <receiver_dest>
                            <destination>r</destination>
                            <offset>preserve</offset>
                        </receiver_dest>
                        <mover_dest>
                            <destination>r</destination>
                            <num_cards>1</num_cards>
                            <flip_up>*</flip_up>
                        </mover_dest>
                        <next_phase phase="reset2"></next_phase>
                    </action>
                </rule>
            </rules>
        </phase>
        <phase name="reset2">
            <phase_type>manual</phase_type>
            <valid_donors>
                <category>center</category>
            </valid_donors>
            <rules>
                <rule category="cpu">
                    <validation>
                        <receiver>
                            <name>cpu</name>
                        </receiver>
                        <mover>
                            <name>center</name>
                            <value>*</value>
                            <color>*</color>
                            <suit>*</suit>
                            <num_cards>*</num_cards>
                        </mover>
                    </validation>
                    <action>
                        <receiver_dest>
                            <destination>r</destination>
                            <num_cards>none</num_cards>
                            <rotation>0</rotation>
                            <offset>none</offset>
                        </receiver_dest>
                        <mover_dest>
                            <destination>r</destination>
                            <num_cards>t</num_cards>
                            <rotation>0</rotation>
                            <offset>none</offset>
                            <flip_up>n</flip_up>
                        </mover_dest>
                        <next_phase phase="opponent"></next_phase>
                    </action>
                </rule>
            </rules>
        </phase>
    </phases>
</data>